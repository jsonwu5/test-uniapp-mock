{"version":3,"sources":["webpack:///D:/ChromeDownload/uni-app-news-0001/pages/list/list.vue?b672","webpack:///D:/ChromeDownload/uni-app-news-0001/pages/list/list.vue?8de2","webpack:///D:/ChromeDownload/uni-app-news-0001/pages/list/list.vue?272c","webpack:///D:/ChromeDownload/uni-app-news-0001/pages/list/list.vue?cf22","webpack:///D:/ChromeDownload/uni-app-news-0001/pages/list/list.vue","webpack:///D:/ChromeDownload/uni-app-news-0001/pages/list/list.vue?a633","webpack:///D:/ChromeDownload/uni-app-news-0001/pages/list/list.vue?e22c"],"names":["components","uniMediaList","uniLoadMore","data","loadingText","contentdown","contentrefresh","contentnomore","scrollLeft","refreshing","refreshText","newsList","tabIndex","tabBars","name","id","ref","computed","scrollViewHeight","uni","getSystemInfoSync","windowHeight","onLoad","forEach","tabBar","index","push","requestParams","columnId","minId","pageSize","column","getList","methods","action","activeTab","time","Date","getTime","request","url","success","result","statusCode","map","news","article_type","datetime","published_at","replace","title","image_url","cover","source","author_name","comment_count","comments_count","post_id","length","goDetail","detail","navigateTo","encodeURIComponent","JSON","stringify","dislike","newsIndex","showModal","content","res","confirm","splice","loadMore","changeTab","event","current","isClickChange","getElSize","tabBarScrollLeft","width","i","winWidth","windowWidth","nowElement","nowWidth","getNodeSize","node","Promise","resolve","reject","dom","getComponentRect","size","onRefresh","rej","createSelectorQuery","select","fields","scrollOffset","exec","tapTab"],"mappings":"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","file":"pages/list/list.js","sourcesContent":["import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=745217c8&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('745217c8', component.options)\n    } else {\n      api.reload('745217c8', component.options)\n    }\n    module.hot.accept(\"./list.vue?vue&type=template&id=745217c8&\", function () {\n      api.rerender('745217c8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"ChromeDownload/uni-app-news-0001/pages/list/list.vue\"\nexport default component.exports","import mod from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=template&id=745217c8&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniMediaList from '@/components/uni-media-list/uni-media-list.vue';\nimport uniLoadMore from '@/components/uni-load-more/uni-load-more.vue';\n\nimport {\n\tfriendlyDate\n} from '@/common/util.js';\n\nexport default {\n\tcomponents: {\n\t\tuniMediaList,\n\t\tuniLoadMore\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloadingText: {\n\t\t\t\tcontentdown: '上拉加载更多',\n\t\t\t\tcontentrefresh: '正在加载...',\n\t\t\t\tcontentnomore: '没有更多数据了'\n\t\t\t},\n\t\t\tscrollLeft: 0,\n\t\t\trefreshing: false,\n\t\t\trefreshText: '下拉可以刷新',\n\t\t\tnewsList: [],\n\t\t\ttabIndex: 0,\n\t\t\ttabBars: [{\n\t\t\t\tname: '最新',\n\t\t\t\tid: 0,\n\t\t\t\tref: 'new'\n\t\t\t}, {\n\t\t\t\tname: '大公司',\n\t\t\t\tid: 23,\n\t\t\t\tref: 'company'\n\t\t\t}, {\n\t\t\t\tname: '内容',\n\t\t\t\tid: 223,\n\t\t\t\tref: 'content'\n\t\t\t}, {\n\t\t\t\tname: '消费',\n\t\t\t\tid: 221,\n\t\t\t\tref: 'xiaofei'\n\t\t\t}, {\n\t\t\t\tname: '娱乐',\n\t\t\t\tid: 225,\n\t\t\t\tref: 'yule'\n\t\t\t}, {\n\t\t\t\tname: '区块链',\n\t\t\t\tid: 208,\n\t\t\t\tref: 'qukuailian'\n\t\t\t}, ]\n\t\t}\n\t},\n\tcomputed: {\n\t\tscrollViewHeight() {\n\t\t\treturn 'height:' + (uni.getSystemInfoSync().windowHeight) + 'px';\n\t\t}\n\t},\n\tonLoad: function() {\n\t\t// 初始化列表信息\n\t\tthis.tabBars.forEach((tabBar, index) => {\n\t\t\tthis.newsList.push({\n\t\t\t\tid: 'tabBar' + index,\n\t\t\t\tdata: [],\n\t\t\t\trequestParams: {\n\t\t\t\t\tcolumnId: tabBar.id,\n\t\t\t\t\tminId: 0,\n\t\t\t\t\tpageSize: 10,\n\t\t\t\t\tcolumn: 'id,post_id,title,author_name,cover,published_at,comments_count'\n\t\t\t\t},\n\t\t\t\tloadingText: '加载中...'\n\t\t\t});\n\t\t});\n\t\tthis.getList();\n\t},\n\tmethods: {\n\t\tgetList(action = 1) {\n\t\t\tlet activeTab = this.newsList[this.tabIndex];\n\t\t\tactiveTab.requestParams.time = new Date().getTime() + '';\n\t\t\tif (action === 1) {\n\t\t\t\tactiveTab.requestParams.minId = 0;\n\t\t\t}\n\t\t\tthis.loadingText = '加载中...';\n\t\t\tuni.request({\n\t\t\t\turl: 'https://unidemo.dcloud.net.cn/api/news',\n\t\t\t\tdata: activeTab.requestParams,\n\t\t\t\tsuccess: (result) => {\n\t\t\t\t\tif (result.statusCode == 200) {\n\t\t\t\t\t\tconst data = result.data.map((news) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: news.id,\n\t\t\t\t\t\t\t\tarticle_type: 1,\n\t\t\t\t\t\t\t\tdatetime: friendlyDate(new Date(news.published_at.replace(/\\-/g, '/')).getTime()),\n\t\t\t\t\t\t\t\ttitle: news.title,\n\t\t\t\t\t\t\t\timage_url: news.cover,\n\t\t\t\t\t\t\t\tsource: news.author_name,\n\t\t\t\t\t\t\t\tcomment_count: news.comments_count,\n\t\t\t\t\t\t\t\tpost_id: news.post_id\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (action === 1) {\n\t\t\t\t\t\t\tactiveTab.data = data;\n\t\t\t\t\t\t\tthis.refreshing = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.forEach((news) => {\n\t\t\t\t\t\t\t\tactiveTab.data.push(news);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tactiveTab.requestParams.minId = data[data.length - 1].id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgoDetail(detail) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/detail/detail?query=' + encodeURIComponent(JSON.stringify(detail))\n\t\t\t});\n\t\t},\n\t\tdislike(tabIndex, newsIndex) {\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '不感兴趣？',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tthis.newsList[tabIndex].data.splice(newsIndex, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tloadMore() {\n\t\t\tthis.getList(2);\n\t\t},\n\t\tasync changeTab(event) {\n\t\t\tlet index = event.detail.current;\n\t\t\tif (this.isClickChange) {\n\t\t\t\tthis.tabIndex = index;\n\t\t\t\tthis.isClickChange = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet tabBar = await this.getElSize('tab-bar');\n\t\t\tlet tabBarScrollLeft = tabBar.scrollLeft;\n\t\t\tlet width = 0;\n\n\t\t\tfor (let i = 0; i < index; i++) {\n\t\t\t\tlet result = await this.getElSize(this.tabBars[i].ref);\n\t\t\t\twidth += result.width;\n\t\t\t}\n\t\t\tlet winWidth = uni.getSystemInfoSync().windowWidth,\n\t\t\t\tnowElement = await this.getElSize(this.tabBars[index].ref),\n\t\t\t\tnowWidth = nowElement.width;\n\t\t\tif (width + nowWidth - tabBarScrollLeft > winWidth) {\n\t\t\t\tthis.scrollLeft = width + nowWidth - winWidth;\n\t\t\t}\n\t\t\tif (width < tabBarScrollLeft) {\n\t\t\t\tthis.scrollLeft = width;\n\t\t\t}\n\t\t\tthis.isClickChange = false;\n\t\t\tthis.tabIndex = index;\n\n\t\t\t// 首次切换后加载数据\n\t\t\tconst activeTab = this.newsList[this.tabIndex];\n\t\t\tif (activeTab.data.length === 0) {\n\t\t\t\tthis.getList();\n\t\t\t}\n\t\t},\n\t\tgetNodeSize(node) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tdom.getComponentRect(node, (result) => {\n\t\t\t\t\tresolve(result.size);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tonRefresh(event) {\n\t\t\tthis.refreshText = '正在刷新...';\n\t\t\tthis.refreshing = true;\n\t\t\tthis.getList();\n\t\t},\n\t\tgetElSize(id) { //得到元素的size\n\t\t\treturn new Promise((res, rej) => {\n\t\t\t\tuni.createSelectorQuery().select('#' + id).fields({\n\t\t\t\t\tsize: true,\n\t\t\t\t\tscrollOffset: true\n\t\t\t\t}, (data) => {\n\t\t\t\t\tres(data);\n\t\t\t\t}).exec();\n\t\t\t});\n\t\t},\n\t\tasync tapTab(index) { //点击tab-bar\n\t\t\tif (this.tabIndex === index) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tthis.tabIndex = index;\n\t\t\t\t// 首次切换后加载数据\n\t\t\t\tconst activeTab = this.newsList[this.tabIndex];\n\t\t\t\tif (activeTab.data.length === 0) {\n\t\t\t\t\tthis.getList();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}